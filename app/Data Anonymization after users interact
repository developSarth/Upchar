Backend (FastAPI)

/collect_signals â†’ store user symptom entries

/get_analytics â†’ provide aggregated, anonymized data

/share_consent â†’ toggle consent

Database (Firestore)

Store:

users/{uid}/records/{recordid}
analysis_summary
symptoms
severity
timestamp
region
if_consented

Analytics DB (BigQuery / Firestore Collection / PostgreSQL)

For aggregated data:

analytics/{region}/{date}/stats

ğŸ§  HOW YOU IMPLEMENT CONSENT FLOW

When user clicks â€œYES, share anonymized dataâ€:

Update Firestore: consent: true

Add userâ€™s non-personal data to analytics pipeline

Trigger anonymization function

Add aggregated stats to analytics DB

Make it available to authorized partners

When user says â€œNOâ€:

Exclude their future records

Optionally, purge their old aggregated entries (weighted)

ğŸ’¡ WHAT INPUT IS REQUIRED FROM USER SIDE?

Minimum:

âœ” Location

Pin code

City

Or auto-detect via IP

âœ” Age range (NOT exact age)
âœ” Gender (Optional)
âœ” Symptoms
âœ” Severity
âœ” Recovery status

That's it.

No names, no phone numbers, no personal care.

ğŸ¯ BEST PART â€” This is AGENTIC AI Friendly

Imagine this pipeline:

Agent analyses symptoms

Suggests severity

Suggests clinic or hospital

Asks:

â€œWould you like your anonymized health pattern to help improve public health in your area?â€

User clicks yes/no

Agent triggers:

anonymization

region clustering

aggregation

analytics update

This shows multi-step autonomous action, perfect for hackathon judges.

ğŸ† Final Summary 

Upchar implements privacy-safe anonymized health analytics using:

User consent

Complete removal of personal identifiers

Region-based clustering

Age-bucketing

Symptom classification

Severity modeling

Aggregated statistical analysis

Authorized data access for hospitals, NGOs, and government bodies

Only anonymized, aggregated trends â€” not user data â€” are shared.
